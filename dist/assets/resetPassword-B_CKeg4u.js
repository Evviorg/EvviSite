import{u as f,k as h,r,j as e}from"./index-BkbumGar.js";import{I as w}from"./Instance-DTxk0MGE.js";import{B as y}from"./react-toastify.esm-CaDwdCV8.js";import"./axios-DzWr6d29.js";const S=()=>{const u=f(),o=h(),[n,m]=r.useState(""),[d,g]=r.useState(""),[i,c]=r.useState(""),[l,x]=r.useState(""),s=new URLSearchParams(u.search).get("token");r.useEffect(()=>{s||o("/admin")},[s,o]);const p=async t=>{if(t.preventDefault(),n!==d){c("Passwords do not match.");return}try{const a=await w.post(`/auth/resetPassword/${s}`,{token:s,newPassword:n});x(a.data.message),y.success(a.data.message),o("/admin")}catch(a){c("Failed to reset password.",a)}};return e.jsx("div",{children:s?e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center",children:"Reset Your Password"}),i&&e.jsx("div",{className:"text-red-500 text-center",children:i}),l&&e.jsx("div",{className:"text-green-500 text-center",children:l}),e.jsxs("form",{onSubmit:p,className:"mt-4 space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"password",placeholder:"New Password",value:n,onChange:t=>m(t.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})}),e.jsx("div",{children:e.jsx("input",{type:"password",placeholder:"Confirm Password",value:d,onChange:t=>g(t.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})}),e.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Reset Password"})]}),e.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["@",new Date().getFullYear()," Powered By EvviSolutions"]})]})}):null})};export{S as default};
