import {
  __commonJS
} from "./chunk-EWTE5DHJ.js";

// node_modules/quill-image-compress/dist/quill.imageCompressor.min.js
var require_quill_imageCompressor_min = __commonJS({
  "node_modules/quill-image-compress/dist/quill.imageCompressor.min.js"(exports, module) {
    !function(e, t) {
      if ("object" == typeof exports && "object" == typeof module) module.exports = t();
      else if ("function" == typeof define && define.amd) define([], t);
      else {
        var n = t();
        for (var r in n) ("object" == typeof exports ? exports : e)[r] = n[r];
      }
    }(self, () => (() => {
      "use strict";
      var e = { 321: (e2, t2) => {
        Object.defineProperty(t2, "__esModule", { value: true }), t2.ConsoleLogger = void 0;
        var n2 = function() {
          function e3(e4, t3) {
            this.debug = e4, this.suppressErrorLogging = t3;
          }
          return e3.prototype.prefixString = function() {
            return "</> quill-image-compress: ";
          }, Object.defineProperty(e3.prototype, "log", { get: function() {
            return this.debug ? console.log.bind(console, this.prefixString()) : function() {
            };
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "error", { get: function() {
            return this.suppressErrorLogging ? function() {
            } : console.error.bind(console, this.prefixString());
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "warn", { get: function() {
            return this.suppressErrorLogging ? function() {
            } : console.warn.bind(console, this.prefixString());
          }, enumerable: false, configurable: true }), e3;
        }();
        t2.ConsoleLogger = n2;
      }, 337: function(e2, t2) {
        var n2 = this && this.__awaiter || function(e3, t3, n3, r2) {
          return new (n3 || (n3 = Promise))(function(i, o) {
            function a(e4) {
              try {
                s(r2.next(e4));
              } catch (e5) {
                o(e5);
              }
            }
            function l(e4) {
              try {
                s(r2.throw(e4));
              } catch (e5) {
                o(e5);
              }
            }
            function s(e4) {
              var t4;
              e4.done ? i(e4.value) : (t4 = e4.value, t4 instanceof n3 ? t4 : new n3(function(e5) {
                e5(t4);
              })).then(a, l);
            }
            s((r2 = r2.apply(e3, t3 || [])).next());
          });
        }, r = this && this.__generator || function(e3, t3) {
          var n3, r2, i, o, a = { label: 0, sent: function() {
            if (1 & i[0]) throw i[1];
            return i[1];
          }, trys: [], ops: [] };
          return o = { next: l(0), throw: l(1), return: l(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this;
          }), o;
          function l(l2) {
            return function(s) {
              return function(l3) {
                if (n3) throw new TypeError("Generator is already executing.");
                for (; o && (o = 0, l3[0] && (a = 0)), a; ) try {
                  if (n3 = 1, r2 && (i = 2 & l3[0] ? r2.return : l3[0] ? r2.throw || ((i = r2.return) && i.call(r2), 0) : r2.next) && !(i = i.call(r2, l3[1])).done) return i;
                  switch (r2 = 0, i && (l3 = [2 & l3[0], i.value]), l3[0]) {
                    case 0:
                    case 1:
                      i = l3;
                      break;
                    case 4:
                      return a.label++, { value: l3[1], done: false };
                    case 5:
                      a.label++, r2 = l3[1], l3 = [0];
                      continue;
                    case 7:
                      l3 = a.ops.pop(), a.trys.pop();
                      continue;
                    default:
                      if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== l3[0] && 2 !== l3[0])) {
                        a = 0;
                        continue;
                      }
                      if (3 === l3[0] && (!i || l3[1] > i[0] && l3[1] < i[3])) {
                        a.label = l3[1];
                        break;
                      }
                      if (6 === l3[0] && a.label < i[1]) {
                        a.label = i[1], i = l3;
                        break;
                      }
                      if (i && a.label < i[2]) {
                        a.label = i[2], a.ops.push(l3);
                        break;
                      }
                      i[2] && a.ops.pop(), a.trys.pop();
                      continue;
                  }
                  l3 = t3.call(e3, a);
                } catch (e4) {
                  l3 = [6, e4], r2 = 0;
                } finally {
                  n3 = i = 0;
                }
                if (5 & l3[0]) throw l3[1];
                return { value: l3[0] ? l3[1] : void 0, done: true };
              }([l2, s]);
            };
          }
        };
        Object.defineProperty(t2, "__esModule", { value: true }), t2.downscaleImage = function(e3, t3, i, o, a, l, s, u) {
          return n2(this, void 0, void 0, function() {
            var n3, c, f, g, d, h, p, m;
            return r(this, function(r2) {
              switch (r2.label) {
                case 0:
                  return n3 = t3.split(";")[0].split(":")[1], a = a || "image/jpeg", u = u || 0.7, (c = new Image()).src = t3, [4, new Promise(function(e4) {
                    c.onload = function() {
                      e4();
                    };
                  })];
                case 1:
                  return r2.sent(), f = function(e4, t4, n4, r3) {
                    if (n4 && r3 && e4 <= n4 && t4 <= r3) return [e4, t4];
                    if (n4 && e4 > n4) {
                      var i2 = n4, o2 = Math.floor(t4 / e4 * i2);
                      if (r3 && o2 > r3) {
                        var a2 = r3;
                        return [Math.floor(e4 / t4 * a2), a2];
                      }
                      return [i2, o2];
                    }
                    if (r3 && t4 > r3) {
                      o2 = r3;
                      return [i2 = Math.floor(e4 / t4 * o2), o2];
                    }
                    return [t4, e4];
                  }(c.width, c.height, i, o), g = f[0], d = f[1], (h = document.createElement("canvas")).width = g, h.height = d, p = h.getContext("2d"), "image/jpeg" === a && (p.fillStyle = "#FFFFFF", p.fillRect(0, 0, c.width, c.height)), (null == s ? void 0 : s.includes(n3)) ? [2, t3] : ((null == l ? void 0 : l.includes(n3)) && (a = n3), p.drawImage(c, 0, 0, g, d), m = h.toDataURL(a, u), e3.log("downscaling image...", { args: { dataUrl: t3, maxWidth: i, maxHeight: o, imageType: a, ignoreImageTypes: s, keepImageTypes: l, imageQuality: u }, newHeight: d, newWidth: g }), [2, m]);
              }
            });
          });
        };
      }, 922: function(e2, t2) {
        var n2 = this && this.__awaiter || function(e3, t3, n3, r2) {
          return new (n3 || (n3 = Promise))(function(i, o) {
            function a(e4) {
              try {
                s(r2.next(e4));
              } catch (e5) {
                o(e5);
              }
            }
            function l(e4) {
              try {
                s(r2.throw(e4));
              } catch (e5) {
                o(e5);
              }
            }
            function s(e4) {
              var t4;
              e4.done ? i(e4.value) : (t4 = e4.value, t4 instanceof n3 ? t4 : new n3(function(e5) {
                e5(t4);
              })).then(a, l);
            }
            s((r2 = r2.apply(e3, t3 || [])).next());
          });
        }, r = this && this.__generator || function(e3, t3) {
          var n3, r2, i, o, a = { label: 0, sent: function() {
            if (1 & i[0]) throw i[1];
            return i[1];
          }, trys: [], ops: [] };
          return o = { next: l(0), throw: l(1), return: l(2) }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this;
          }), o;
          function l(l2) {
            return function(s) {
              return function(l3) {
                if (n3) throw new TypeError("Generator is already executing.");
                for (; o && (o = 0, l3[0] && (a = 0)), a; ) try {
                  if (n3 = 1, r2 && (i = 2 & l3[0] ? r2.return : l3[0] ? r2.throw || ((i = r2.return) && i.call(r2), 0) : r2.next) && !(i = i.call(r2, l3[1])).done) return i;
                  switch (r2 = 0, i && (l3 = [2 & l3[0], i.value]), l3[0]) {
                    case 0:
                    case 1:
                      i = l3;
                      break;
                    case 4:
                      return a.label++, { value: l3[1], done: false };
                    case 5:
                      a.label++, r2 = l3[1], l3 = [0];
                      continue;
                    case 7:
                      l3 = a.ops.pop(), a.trys.pop();
                      continue;
                    default:
                      if (!(i = a.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== l3[0] && 2 !== l3[0])) {
                        a = 0;
                        continue;
                      }
                      if (3 === l3[0] && (!i || l3[1] > i[0] && l3[1] < i[3])) {
                        a.label = l3[1];
                        break;
                      }
                      if (6 === l3[0] && a.label < i[1]) {
                        a.label = i[1], i = l3;
                        break;
                      }
                      if (i && a.label < i[2]) {
                        a.label = i[2], a.ops.push(l3);
                        break;
                      }
                      i[2] && a.ops.pop(), a.trys.pop();
                      continue;
                  }
                  l3 = t3.call(e3, a);
                } catch (e4) {
                  l3 = [6, e4], r2 = 0;
                } finally {
                  n3 = i = 0;
                }
                if (5 & l3[0]) throw l3[1];
                return { value: l3[0] ? l3[1] : void 0, done: true };
              }([l2, s]);
            };
          }
        };
        Object.defineProperty(t2, "__esModule", { value: true }), t2.file2b64 = function(e3) {
          return n2(this, void 0, void 0, function() {
            var t3, n3;
            return r(this, function(r2) {
              return t3 = new FileReader(), n3 = new Promise(function(e4, n4) {
                t3.addEventListener("load", function() {
                  var r3, i = null === (r3 = t3.result) || void 0 === r3 ? void 0 : r3.toString();
                  i ? e4(i) : n4("could not convert file to base64");
                }, false);
              }), t3.readAsDataURL(e3), [2, n3];
            });
          });
        };
      }, 457: (e2, t2) => {
        Object.defineProperty(t2, "__esModule", { value: true }), t2.warnAboutOptions = function(e3, t3) {
          e3.maxWidth = e3.maxWidth || 1e3, e3.maxHeight = e3.maxHeight || 1e3, e3.maxWidth && "number" != typeof e3.maxWidth && (t3.warn(`[config error] 'maxWidth' is required to be a "number" (in pixels), 
received: `.concat(e3.maxWidth, "\n-> using default 1000")), e3.maxWidth = 1e3);
          e3.maxHeight && "number" != typeof e3.maxHeight && (t3.warn(`[config error] 'maxHeight' is required to be a "number" (in pixels), 
received: `.concat(e3.maxHeight, "\n-> using default 1000")), e3.maxHeight = 1e3);
          e3.quality && "number" != typeof e3.quality && (t3.warn(`quill.imageCompressor: [config error] 'quality' is required to be a "number", 
received: `.concat(e3.quality, "\n-> using default 0.7")), e3.quality = 0.7);
          !e3.imageType || "string" == typeof e3.imageType && e3.imageType.startsWith("image/") || (t3.warn(`quill.imageCompressor: [config error] 'imageType' is required be in the form of "image/png" or "image/jpeg" etc ..., 
received: `.concat(e3.imageType, "\n-> using default image/jpeg")), e3.imageType = "image/jpeg");
          e3.keepImageTypes || (e3.keepImageTypes = []);
          e3.keepImageTypes && !Array.isArray(e3.keepImageTypes) && (t3.warn(`quill.imageCompressor: [config error] 'keepImageTypes' is required to be a "array", received: `.concat(e3.keepImageTypes, " -> using default []")), e3.keepImageTypes = []);
          e3.ignoreImageTypes || (e3.ignoreImageTypes = []);
          e3.ignoreImageTypes && !Array.isArray(e3.ignoreImageTypes) && (t3.warn(`quill.imageCompressor: [config error] 'ignoreImageTypes' is required to be a "array", received: `.concat(e3.ignoreImageTypes, " -> using default []")), e3.ignoreImageTypes = []);
          e3.handleOnPaste && "boolean" != typeof e3.handleOnPaste && (t3.warn(`quill.imageCompressor: [config error] 'handlePaste' is required to be a "boolean", received: `.concat(e3.ignoreImageTypes, " -> using default true")), e3.handleOnPaste = true);
          e3.insertIntoEditor && "function" != typeof e3.insertIntoEditor && (t3.warn(`quill.imageCompressor: [config error] 'insertIntoEditor' is required to be a "function", received: `.concat(e3.insertIntoEditor, " -> using default undefined")), e3.insertIntoEditor = void 0);
        };
      }, 423: function(e2, t2, n2) {
        var r = this && this.__awaiter || function(e3, t3, n3, r2) {
          return new (n3 || (n3 = Promise))(function(i2, o2) {
            function a2(e4) {
              try {
                s2(r2.next(e4));
              } catch (e5) {
                o2(e5);
              }
            }
            function l2(e4) {
              try {
                s2(r2.throw(e4));
              } catch (e5) {
                o2(e5);
              }
            }
            function s2(e4) {
              var t4;
              e4.done ? i2(e4.value) : (t4 = e4.value, t4 instanceof n3 ? t4 : new n3(function(e5) {
                e5(t4);
              })).then(a2, l2);
            }
            s2((r2 = r2.apply(e3, t3 || [])).next());
          });
        }, i = this && this.__generator || function(e3, t3) {
          var n3, r2, i2, o2, a2 = { label: 0, sent: function() {
            if (1 & i2[0]) throw i2[1];
            return i2[1];
          }, trys: [], ops: [] };
          return o2 = { next: l2(0), throw: l2(1), return: l2(2) }, "function" == typeof Symbol && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function l2(l3) {
            return function(s2) {
              return function(l4) {
                if (n3) throw new TypeError("Generator is already executing.");
                for (; o2 && (o2 = 0, l4[0] && (a2 = 0)), a2; ) try {
                  if (n3 = 1, r2 && (i2 = 2 & l4[0] ? r2.return : l4[0] ? r2.throw || ((i2 = r2.return) && i2.call(r2), 0) : r2.next) && !(i2 = i2.call(r2, l4[1])).done) return i2;
                  switch (r2 = 0, i2 && (l4 = [2 & l4[0], i2.value]), l4[0]) {
                    case 0:
                    case 1:
                      i2 = l4;
                      break;
                    case 4:
                      return a2.label++, { value: l4[1], done: false };
                    case 5:
                      a2.label++, r2 = l4[1], l4 = [0];
                      continue;
                    case 7:
                      l4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(i2 = a2.trys, (i2 = i2.length > 0 && i2[i2.length - 1]) || 6 !== l4[0] && 2 !== l4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === l4[0] && (!i2 || l4[1] > i2[0] && l4[1] < i2[3])) {
                        a2.label = l4[1];
                        break;
                      }
                      if (6 === l4[0] && a2.label < i2[1]) {
                        a2.label = i2[1], i2 = l4;
                        break;
                      }
                      if (i2 && a2.label < i2[2]) {
                        a2.label = i2[2], a2.ops.push(l4);
                        break;
                      }
                      i2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  l4 = t3.call(e3, a2);
                } catch (e4) {
                  l4 = [6, e4], r2 = 0;
                } finally {
                  n3 = i2 = 0;
                }
                if (5 & l4[0]) throw l4[1];
                return { value: l4[0] ? l4[1] : void 0, done: true };
              }([l3, s2]);
            };
          }
        };
        Object.defineProperty(t2, "__esModule", { value: true }), t2.imageCompressor = void 0;
        var o = n2(379), a = n2(457), l = n2(922), s = n2(337), u = n2(321), c = function() {
          function e3(t3, n3) {
            var l2 = this;
            this.quill = t3, this.options = n3 || {};
            var s2 = !!n3.debug, c2 = !!n3.suppressErrorLogging;
            this.Logger = new u.ConsoleLogger(s2, c2), (0, a.warnAboutOptions)(n3, this.Logger);
            this.imageDrop = new o.ImageDrop(t3, function(t4) {
              return r(l2, void 0, void 0, function() {
                var n4;
                return i(this, function(r2) {
                  switch (r2.label) {
                    case 0:
                      return this.Logger.log("onImageDrop", { dataUrl: t4 }), [4, this.downscaleImageFromUrl(t4)];
                    case 1:
                      return n4 = r2.sent(), this.insertToEditor(n4, e3.b64toBlob(n4)), [2];
                  }
                });
              });
            }, this.Logger, false !== this.options.handleOnPaste), this.Logger.log("fileChanged", { options: n3, quill: t3, debug: s2 });
            var f = this.quill.getModule("toolbar");
            f ? f.addHandler("image", function() {
              return l2.selectLocalImage();
            }) : this.Logger.error("Quill toolbar module not found! need { toolbar: // options } in Quill.modules for image icon to sit in");
          }
          return e3.b64toBlob = function(e4) {
            for (var t3 = atob(e4.split(",")[1]), n3 = e4.slice(5).split(";")[0], r2 = new ArrayBuffer(t3.length), i2 = new Uint8Array(r2), o2 = 0; o2 < t3.length; o2++) i2[o2] = t3.charCodeAt(o2);
            return new Blob([r2], { type: n3 });
          }, e3.prototype.selectLocalImage = function(e4) {
            var t3 = this;
            this.range = this.quill.getSelection(), this.fileHolder = document.createElement("input"), this.fileHolder.setAttribute("type", "file"), this.fileHolder.setAttribute("accept", "image/*"), this.fileHolder.setAttribute("style", "visibility:hidden"), this.fileHolder.onchange = function() {
              return t3.fileChanged().then(function() {
                return e4 && e4();
              });
            }, document.body.appendChild(this.fileHolder), this.fileHolder.click(), window.requestAnimationFrame(function() {
              t3.fileHolder && document.body.removeChild(t3.fileHolder);
            });
          }, e3.prototype.fileChanged = function(t3) {
            return r(this, void 0, void 0, function() {
              var n3, r2, o2, a2, s2;
              return i(this, function(i2) {
                switch (i2.label) {
                  case 0:
                    return (n3 = t3 || (null === (s2 = this.fileHolder) || void 0 === s2 ? void 0 : s2.files)) && n3.length ? (r2 = n3[0], this.Logger.log("fileChanged", { file: r2 }), r2 ? [4, (0, l.file2b64)(r2)] : [2]) : [2];
                  case 1:
                    return o2 = i2.sent(), [4, this.downscaleImageFromUrl(o2)];
                  case 2:
                    return a2 = i2.sent(), this.insertToEditor(a2, e3.b64toBlob(a2)), [2];
                }
              });
            });
          }, e3.prototype.downscaleImageFromUrl = function(e4) {
            return r(this, void 0, void 0, function() {
              var t3;
              return i(this, function(n3) {
                switch (n3.label) {
                  case 0:
                    return [4, (0, s.downscaleImage)(this.Logger, e4, this.options.maxWidth, this.options.maxHeight, this.options.imageType, this.options.keepImageTypes, this.options.ignoreImageTypes, this.options.quality)];
                  case 1:
                    return t3 = n3.sent(), this.Logger.log("downscaleImageFromUrl", { dataUrl: e4, dataUrlCompressed: t3 }), [2, t3];
                }
              });
            });
          }, e3.prototype.insertToEditor = function(e4, t3) {
            if (this.options.insertIntoEditor) this.options.insertIntoEditor(e4, t3, this.quill);
            else {
              this.Logger.log("insertToEditor", { url: e4 }), this.range = this.quill.getSelection();
              var n3 = this.range;
              if (!n3) return;
              this.logFileSize(e4), this.quill.insertEmbed(n3.index, "image", "".concat(e4), "user"), n3.index++, this.quill.setSelection(n3, "api");
            }
          }, e3.prototype.logFileSize = function(e4) {
            var t3 = (Math.round(3 * (e4.length - 22) / 4) / 1024).toFixed(0);
            this.Logger.log("estimated img size: " + t3 + " kb");
          }, e3;
        }();
        t2.imageCompressor = c, window.imageCompressor = c, t2.default = c;
      }, 379: function(e2, t2, n2) {
        var r = this && this.__awaiter || function(e3, t3, n3, r2) {
          return new (n3 || (n3 = Promise))(function(i2, o2) {
            function a2(e4) {
              try {
                s(r2.next(e4));
              } catch (e5) {
                o2(e5);
              }
            }
            function l2(e4) {
              try {
                s(r2.throw(e4));
              } catch (e5) {
                o2(e5);
              }
            }
            function s(e4) {
              var t4;
              e4.done ? i2(e4.value) : (t4 = e4.value, t4 instanceof n3 ? t4 : new n3(function(e5) {
                e5(t4);
              })).then(a2, l2);
            }
            s((r2 = r2.apply(e3, t3 || [])).next());
          });
        }, i = this && this.__generator || function(e3, t3) {
          var n3, r2, i2, o2, a2 = { label: 0, sent: function() {
            if (1 & i2[0]) throw i2[1];
            return i2[1];
          }, trys: [], ops: [] };
          return o2 = { next: l2(0), throw: l2(1), return: l2(2) }, "function" == typeof Symbol && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function l2(l3) {
            return function(s) {
              return function(l4) {
                if (n3) throw new TypeError("Generator is already executing.");
                for (; o2 && (o2 = 0, l4[0] && (a2 = 0)), a2; ) try {
                  if (n3 = 1, r2 && (i2 = 2 & l4[0] ? r2.return : l4[0] ? r2.throw || ((i2 = r2.return) && i2.call(r2), 0) : r2.next) && !(i2 = i2.call(r2, l4[1])).done) return i2;
                  switch (r2 = 0, i2 && (l4 = [2 & l4[0], i2.value]), l4[0]) {
                    case 0:
                    case 1:
                      i2 = l4;
                      break;
                    case 4:
                      return a2.label++, { value: l4[1], done: false };
                    case 5:
                      a2.label++, r2 = l4[1], l4 = [0];
                      continue;
                    case 7:
                      l4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(i2 = a2.trys, (i2 = i2.length > 0 && i2[i2.length - 1]) || 6 !== l4[0] && 2 !== l4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === l4[0] && (!i2 || l4[1] > i2[0] && l4[1] < i2[3])) {
                        a2.label = l4[1];
                        break;
                      }
                      if (6 === l4[0] && a2.label < i2[1]) {
                        a2.label = i2[1], i2 = l4;
                        break;
                      }
                      if (i2 && a2.label < i2[2]) {
                        a2.label = i2[2], a2.ops.push(l4);
                        break;
                      }
                      i2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  l4 = t3.call(e3, a2);
                } catch (e4) {
                  l4 = [6, e4], r2 = 0;
                } finally {
                  n3 = i2 = 0;
                }
                if (5 & l4[0]) throw l4[1];
                return { value: l4[0] ? l4[1] : void 0, done: true };
              }([l3, s]);
            };
          }
        };
        Object.defineProperty(t2, "__esModule", { value: true }), t2.ImageDrop = void 0;
        var o = n2(922), a = function() {
          function e3(e4, t3, n3, r2) {
            var i2 = this;
            this.quill = e4, this.onNewDataUrl = t3, this.logger = n3, this.handleOnPaste = r2, this.localDrag = false, this.quill.root.addEventListener("dragstart", function(e5) {
              return i2.handleDragStart(e5);
            }, false), this.quill.root.addEventListener("dragend", function(e5) {
              return i2.handleDragEnd(e5);
            }, false), this.quill.root.addEventListener("drop", function(e5) {
              return i2.handleDrop(e5);
            }, false), this.handleOnPaste && this.quill.root.addEventListener("paste", function(e5) {
              return i2.handlePaste(e5);
            }, false);
          }
          return e3.prototype.handleDragStart = function(e4) {
            this.localDrag = true;
          }, e3.prototype.handleDragEnd = function(e4) {
            this.localDrag = false;
          }, e3.prototype.handleDrop = function(e4) {
            return r(this, void 0, void 0, function() {
              var t3, n3, r2, o2, a2, s, u, c, f, g;
              return i(this, function(i2) {
                switch (i2.label) {
                  case 0:
                    return this.localDrag ? [2] : (e4.preventDefault(), document.caretRangeFromPoint && (t3 = document.getSelection(), n3 = document.caretRangeFromPoint(e4.clientX, e4.clientY), t3 && n3 && t3.setBaseAndExtent(n3.startContainer, n3.startOffset, n3.startContainer, n3.startOffset)), this.logger.log("handleDrop", { evt: e4 }), r2 = null === (u = e4.dataTransfer) || void 0 === u ? void 0 : u.files, (o2 = Array.from(r2 || []).filter(function(e5) {
                      return l(e5.type);
                    })).length > 0 ? (this.logger.log("handleDrop", "found files", { evt: e4, files: r2, imageFiles: o2 }), [4, this.pasteFilesIntoQuill(o2)]) : [3, 2]);
                  case 1:
                    return i2.sent(), [2];
                  case 2:
                    return (null === (c = e4.dataTransfer) || void 0 === c ? void 0 : c.items) ? (this.logger.log("handleDrop", "found items", { evt: e4, files: r2, imageFiles: o2 }), [4, this.handleDataTransferList(null === (f = e4.dataTransfer) || void 0 === f ? void 0 : f.items, e4)]) : [3, 4];
                  case 3:
                    return i2.sent(), [2];
                  case 4:
                    return a2 = null === (g = e4.dataTransfer) || void 0 === g ? void 0 : g.getData("URL"), this.logger.log("handleDrop", "trying getData('URL')", { draggedUrl: a2 }), a2 ? [4, fetch(a2)] : [3, 8];
                  case 5:
                    return [4, i2.sent().blob()];
                  case 6:
                    return s = i2.sent(), this.logger.log("handleDrop", "blob from drag event", { evt: e4, files: r2, imageFiles: o2 }), [4, this.pasteFilesIntoQuill([s])];
                  case 7:
                    i2.sent(), i2.label = 8;
                  case 8:
                    return [2];
                }
              });
            });
          }, e3.prototype.handlePaste = function(e4) {
            return r(this, void 0, void 0, function() {
              var t3;
              return i(this, function(n3) {
                switch (n3.label) {
                  case 0:
                    return [4, this.handleDataTransferList(null === (t3 = e4.clipboardData) || void 0 === t3 ? void 0 : t3.items, e4)];
                  case 1:
                    return n3.sent(), [2];
                }
              });
            });
          }, e3.prototype.handleDataTransferList = function(e4, t3) {
            return r(this, void 0, void 0, function() {
              var n3, r2, o2, a2;
              return i(this, function(i2) {
                switch (i2.label) {
                  case 0:
                    return n3 = Array.from(e4 || []), r2 = n3.filter(function(e5) {
                      return "file" === e5.kind && l(e5.type);
                    }), o2 = n3.map(function(e5) {
                      return { type: e5.type, kind: e5.kind };
                    }), this.logger.log("handleDataTransferList", { fileTypes: o2, imageCount: r2.length }), r2.length ? (t3.preventDefault(), a2 = r2.map(function(e5) {
                      return e5.getAsFile();
                    }), [4, this.pasteFilesIntoQuill(a2)]) : [2];
                  case 1:
                    return i2.sent(), [2];
                }
              });
            });
          }, e3.prototype.pasteFilesIntoQuill = function(e4) {
            return r(this, void 0, void 0, function() {
              var t3 = this;
              return i(this, function(n3) {
                switch (n3.label) {
                  case 0:
                    return this.logger.log("    pasteFilesIntoQuill", "pasting ".concat(e4.length, " images...")), [4, Promise.all(e4.map(function(e5, n4) {
                      return r(t3, void 0, void 0, function() {
                        var t4;
                        return i(this, function(r2) {
                          switch (r2.label) {
                            case 0:
                              return e5 ? [4, (0, o.file2b64)(e5)] : [2];
                            case 1:
                              return t4 = r2.sent(), this.logger.log("    pasteFilesIntoQuill", "pasting image (".concat(n4, ")")), this.onNewDataUrl(t4), [2];
                          }
                        });
                      });
                    }))];
                  case 1:
                    return n3.sent(), this.logger.log("    pasteFilesIntoQuill", "done"), [2];
                }
              });
            });
          }, e3;
        }();
        function l(e3) {
          return !!e3.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp)/i);
        }
        t2.ImageDrop = a;
      } }, t = {};
      var n = function n2(r) {
        var i = t[r];
        if (void 0 !== i) return i.exports;
        var o = t[r] = { exports: {} };
        return e[r].call(o.exports, o, o.exports, n2), o.exports;
      }(423);
      return n;
    })());
  }
});
export default require_quill_imageCompressor_min();
//# sourceMappingURL=quill-image-compress.js.map
